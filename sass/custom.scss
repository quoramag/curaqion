@import "mixin";

body{
	background-color:$bg-color;
	font-size: 13px;
	line-height: 17px;
}
.hide{display:none !important;}
.fleft{float:left;}
.fright{float:right}
.clear{clear:both;}
p{margin: 0 0 1em;}



.wrap{
	width: $wrap;
	margin: 0 auto;
}

header{
	background:#333 ;
	overflow: hidden;
	margin: 30px auto;
	width: $wrap;
	#brand{
		margin: 0;
		a{
			color:#eee;
			float: left;
 			margin: 0;
			background: #222 url("../img/brand.png") no-repeat 25px center;
			text-indent: -9999px;
			height: 50px;
			width: $sidecol;
			display: block;
			//opacity: 0.8;
			&:hover{
			//	opacity: 1;
			}
		}
	}
}

.desc{
    width: $sidecol - 30px - 30px;
    padding: 0px 30px 95px 30px;
    color: #555;
    opacity:0;
    z-index:3;
    position:relative;
	//@include transition(all 1s linear);
    p{
    	font-family: "Open Sans",sans-serif;
    	font-size: 14px;
    	line-height: 21px;
    	margin-right: 25px;
	}
	&.loaded{
		padding-top:20px;
		opacity:1;
		@include transition(all 0.4s linear);
	}
}

.withgradient{
	&:after{
    	content: "";
    	display: block;
    	height: 50%;
    	left: 0;
    	position: absolute;
    	top: 0;
    	width: 100%;
    	z-index: 0;
		background:rgba(0,0,0,0.5);
		@include gradient(rgba(0,0,0,0.8),rgba(0,0,0,0));
	}
	.desc{
	    color: #EEEEEE;
	}
	.issue_id{
		color:#fff;
	}
	.issue_month{
		color:#eee;
	}
}


.issue_id{
	font-size: 50px;
	line-height: 54px;
	margin: 0;
	font-family: "myriad pro";
	font-weight: 700;
	//letter-spacing: -1px;
	color:#222;
}
.issue_month{
	font-size: 11px;
	text-transform: uppercase;
	display: block;
	color: #666;
	margin: 0 0 20px;
	letter-spacing: 2px;
	font-weight: bold;
}

.main_issue{
	background-color: $border-color;
	position:relative;
	overflow: hidden;
	&.preload{
 		.loading{
			position:absolute;
			height: 100%;
			width: 100%;
			background:  $bg-color url('../img/loading.gif') no-repeat center 50px ;
			top:0;
			left:0;
		}
 		.desc,
 		.article,
 		.photo_credit,
 		&.withgradient:after{
 			visibility:hidden;
 		}
	}
	&.loaded{
		border-right:1px solid $border-color;
 		.loading{
			display: none;
		}
  		.desc,
 		.article,
 		.photo_credit,
 		&.withgradient:after{
 			visibility:visible;
 		}
	}

  	.article{
 		width: $wrap - $sidecol - 1px;
 		margin: 0 -30px 0 0;
 		padding: 0;
 		list-style: none;
 		background: #fff;
  		position:relative;
 		z-index:2;
 		&.loaded{
 			margin-right:0;
 			@include transition(margin 0.4s linear);
 		}
   		li{
 			overflow: hidden;
 			position: relative;
 			background-repeat:no-repeat;
 			background-position: top left;

  			&:first-child{
  				.titlewrap{
 	 				border-top:1px solid $border-color;
 	 			}
 			}
  			&:last-child{
  				.titlewrap{
 	 				border-bottom:1px solid $border-color;
 	 			}
 			}

 			&:nth-child(2n){
  				.titlewrap{
	 				background: #F4F4F4;
	 			}
 			}
 			&:hover{
	 			h2{
		 			color:#222;
	 			}
 			}
  		}

		em{
			position: absolute;
			top:45%;
			width: 100px;
			text-align: center;
			font-size: 18px;
			color:#fff;
			font-style: normal;
			font-weight: bold;
		}
 		.titlewrap{
 			padding: 13px 20px 17px 20px;
   			width: $wrap - $sidecol - 100px - 20px - 20px - 3px;
		 	float: right;
	 		//height: 90px;
	 		background:#fff;
	 		span{
		 		font-size: 9px;
		 		font-weight: bold;
		 		text-transform: uppercase;
		 		letter-spacing: 1px;
		 		margin-bottom: 0px;
		 		display: block;
		 		color:#aaa;
	 		}
 		}
		h2{
 			margin: 0;
 			right:  1px;
   			color: #333;
 			font:  16px/23px "Open Sans","myriad pro",sans-serif;
 		}
		a{
		 	text-decoration: none;
			&:hover{
				.blur{
					//background: rgba(0,0,0,0.4);
				}
			}
		}
	}
	.photo_credit{
    	background: none repeat scroll 0 0 rgba(255, 255, 255, 0.2);
    	bottom: 0;
    	font-size: 10px;
    	left: 30px;
    	margin: 0;
    	padding: 2px 10px 2px;
    	position: absolute;
    	color:#aaa;
    	a{
    		color:#aaa;
    		&:hover{
    			color:#ddd;
    		}
    	}
	}
}



.article{
	.leftside{
		width: 200px;
		float: left;
		text-align:right;
	}
	.rightside{
		width: $wrap - 200px - 120px;
		float: right;
		margin-right: 70px;
 	}
	.cover{
		position:relative;
		h1{
  			color:#fff;
			line-height: 33px;
			font-size: 25px;
 			margin:0 0 30px;
 		}
	}
	.overmeta{
		position:absolute;
		bottom:0;
		width: $wrap;
	}

	.answers{
		background:#fff;
		border:1px solid $border-color;
		.rightside,
		.leftside{
			padding:30px 0;
		}
		.rightside{
			font-family: Georgia,serif;
			font-size: 15px;
			line-height: 23px;

			p{
				&:first-of-type{
					font-size: 16px;
					line-height: 23px;
					&:first-letter{
						float: left;
 						font-size: 300%;
						line-height: 0.85em;
						margin: 6px 6px 2px 0;
					}
				}
			}
		}
		.fullwidth{
			margin: 0 0 15px -249px;
		}
	}
}





footer{
	margin: 30px auto 50px;
	width: $wrap;
	overflow: hidden;
	strong{
	    text-transform: uppercase;
	    letter-spacing: 2px;
	    font-size: 12px;
	}

	.credit{
		width: $sidecol  - 45px ;
	}
	.subscribe{
		width: $wrap - $sidecol ;
	}
}